
# 요인배치법



## 요인 배치법과 교호작용

  * 실제 공정에서는 여러 요인이 동시에 결과에 영향 (예: 열처리 온도와 시간)
  * 요인 배치법 (Factorial Design)
      * 두 개 이상의 요인을 동시에 변화시키며 실험하는 설계 방법
      * 각 요인의 주 효과(Main Effect)는 물론, 요인들이 결합되었을 때 나타나는 교호작용(Interaction) 효과까지 파악할 수 있음



## 직교성 (Orthogonality)의 원리

  - 직교성이란 각 요인의 효과를 서로 독립적으로, 섞임 없이(confounding) 추정할 수 있는 설계의 성질
      - 실험 계획 행렬에서 어떤 두 열(요인)을 골라 곱한 값의 합이 0이 되면, 두 요인은 직교
  - 주요 특징:
    - 독립적 추정: 서로 다른 요인의 효과를 독립적으로 추정(분석에 요인을 추가하거나 제거하더라도 나머지 요인의 추정된 계수가 변하지 않음)
    - 비상관 요인: 설계 행렬의 열은 서로 상관 관계가 없음(다중 공선성 최소화)
    - 효율성: 주 효과를 추정하는 데 필요한 실행 횟수 측면에서 일반적으로 효율적임



## 완전 요인 배치법 (Full Factorial Design)

  * 관심 있는 모든 요인들의 모든 수준 조합을 전부 실험하는 방법
      * $2^k$ 요인 설계: `k`개의 요인을 각각 2개의 수준(e.g., 낮음/높음)으로 실험하는 설계 
  * 예시: $2^2$ 설계 (2요인 2수준)
      * 온도(-1, 1)와 압력(-1, 1)이 미치는 영향을 보기 위해 가능한 4가지 조합을 모두 실험
        1.  온도 낮음, 압력 낮음
        2.  온도 높음, 압력 낮음
        3.  온도 낮음, 압력 높음
        4.  온도 높음, 압력 높음
  * 장점과 단점
      * 장점: 모든 주 효과와 모든 교호작용을 명확하게 분석할 수 있음
      * 단점: 요인 수가 증가하면 실험 횟수가 기하급수적으로 폭발합



## 실습 준비

- 설치
```python
!pip install pyDOE3
```

- 임포트
```python
import pyDOE3 as doe
```



## 완전 요인 배치법 실습

- 요인별로 여러 수준이 있는 경우
```python
LEVELS = [2, 3]  # 첫번째 요인은 2 수준, 두번째 요인은 3 수준
doe.fullfact(LEVELS)
```


- 2수준 완전 요인 배치법
  - 요인별로 낮음/높음 2 수준만 실험
```python
doe.ff2n(3)
```



## 퀴즈

<iframe src="https://tally.so/embed/31av2b?alignLeft=1&hideTitle=1&transparentBackground=1&dynamicHeight=1" loading="lazy" width="100%" height="1000" frameborder="0" marginheight="0" marginwidth="0" title="[DOE] 요인배치법"></iframe>