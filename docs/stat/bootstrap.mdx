# 부트스트래핑

*   평균과 달리 중간값, 최빈값 등의  통계량은 오차 범위 이론적 유도 어려움.
* 표본이 충분히 크면 부트스트래핑이라는 시뮬레이션 기법을 사용해서 신뢰구간을 추정
* 오차 범위는 모집단에서 서로 다른 표본이 확률적으로 표집됨 → 표집 오차의 확률 분포를 추정하는 것
* 부트스트래핑: 표본에서 다른 표본을 재표집(resampling)
    * "pull yourself up by your own bootstrap"
* 가정:
    * 표본이 모집단을 어느 정도 반영한다면
    * 이러한 재표집 또한 모집단에서 표본이 표집되는 과정을 반영할 것 
    * → 오차 범위도 비슷하게 추정될 것

*   **예시: 중간값의 95% 신뢰구간 계산 (scipy 활용)**
```python
import numpy as np
import scipy as sp 

np.random.seed(1234) # 재현성 있는 결과를 위해 시드 설정
# 부트스트래핑 실행
result = sp.stats.bootstrap(
    [df.price],              # 데이터
    np.median,               # 계산할 통계량 (중간값)
    n_resamples=10000,       # 시뮬레이션(재표집) 횟수
    confidence_level=0.95    # 신뢰수준
)
result.confidence_interval   # 신뢰구간
```

## 퀴즈

import { QuizComponent } from "@/components/QuizComponent";

<QuizComponent quizId="bootstrap" quizItems={[
    {
        item_type: 'radio',
        question: '부트스트래핑은 언제 사용하나요?',
        options: [
            '오차 범위를 이론적으로 유도하기 어려울 때 사용한다',
            '오차 범위를 이론적으로 유도하기 쉬울 때 사용한다',
        ],
        hint: '부트스트래핑은 오차 범위를 이론적으로 유도하기 어려울 때 사용하는 컴퓨터 시뮬레이션 기법이다',
        solution: '오차 범위를 이론적으로 유도하기 어려울 때 사용한다',
    },
    {
        item_type: 'radio',
        question: '부트스트래핑에서 시드를 설정하는 이유는 무엇인가요?',
        options: [
            '시뮬레이션 속도를 높이기 위해',
            '시뮬레이션의 정확도를 높이기 위해',
            '시뮬레이션 결과를 재현하기 위해',
        ],
        hint: '부트스트래핑은 무작위 추출을 사용하기 때문에 시드를 설정하지 않으면 매번 다른 결과를 준다',
        solution: '시뮬레이션 결과를 재현하기 위해'
    },
    {
        item_type: 'radio',
        question: '컴퓨터에서 유사 난수 생성에 대한 설명으로 올바른 것은?',
        options: [
            '유사 난수 생성기는 완전한 무작위성을 제공한다',
            '유사 난수 생성기는 시드를 설정하지 않으면 0을 시드 값으로 사용한다',
            '유사 난수 생성기는 알고리즘에 의해 결정된 수열을 생성한다',
        ],
        hint: '유사 난수 생성기는 시드 값을 기반으로 알고리즘에 의해 결정된 수열을 생성한다',
        solution: '유사 난수 생성기는 알고리즘에 의해 결정된 수열을 생성한다'
    },
    {
        item_type: 'number',
        question: 'hiring.xlsx에서 gpa의 중간값의 95% 신뢰구간을 부트스트래핑으로 구해보세요.\n\n하한은 얼마입니까? (소수점 둘째 자리까지)',
        hint: '```\nimport numpy as np\nimport scipy as sp \nnp.random.seed(1234)\nresult = sp.stats.bootstrap(\n    [hi.gpa],\n    np.median,\n    n_resamples=10000,\n    confidence_level=0.95\n)\nresult.confidence_interval\n```',
        solution: 2.95
    },
    {
        item_type: 'number',
        question: '앞의 문제에서 상한은 얼마입니까? (소수점 둘째 자리까지)',
        hint: '앞의 문제 힌트 참고',
        tolerance: 0.01,
        solution: 3.04
    },
]} />

## Q&A
<iframe src="https://tally.so/embed/wbOOKg?alignLeft=1&hideTitle=1&transparentBackground=1&dynamicHeight=0" loading="lazy" width="100%" height="274" frameborder="0" marginheight="0" marginwidth="0" title="Q&A"></iframe>
