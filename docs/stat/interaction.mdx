# 상호작용
## 상호작용 (Interaction)

*   **정의:** 한 독립변수의 효과가 다른 독립변수 **수준에 따라 달라지는** 경우.
*   **모형:** 두 독립변수 **곱으로 이뤄진 항(상호작용항)** 추가.
    $$ y = w_1 x + w_2 m + w_3 xm + b $$
*   **Python 관계식:**
    *   콜론(`:`): **상호작용항만** 추가 (`x:m`).
    *   별표(`*`): 각 변수 **주효과(main effect) 및 상호작용항 모두** 추가 (`x*m` 은 `x + m + x:m` 과 동일).

## 상호작용 없는 경우

```python
import seaborn as sns
d1 = pd.read_excel('diff_intercept.xlsx')
sns.scatterplot(x='x', y='y', hue='m', data=d1)
ols('y ~ x + m', d1).fit().summary()
```
## 기울기만 달라지는 경우

```python
d2 = pd.read_excel('diff_slope.xlsx')
sns.scatterplot(x='x', y='y', hue='m', data=d2)
ols('y ~ x + x:m', d2).fit().summary()
```

## 기울기와 절편이 모두 달라지는 경우

```python
d3 = pd.read_excel('interaction.xlsx')
sns.scatterplot(x='x', y='y', hue='m', data=d3)
ols('y ~ x + m + x:m', d3).fit().summary()
```


## 퀴즈

import { QuizComponent } from "@/components/QuizComponent";

<QuizComponent quizId="interaction" quizItems={
[
    {
        "item_type": "radio",
        "question": "회귀분석에서 '상호작용(Interaction)' 효과는 무엇을 의미하나요?",
        "options": [
            "두 개 이상의 독립변수가 서로 매우 높은 상관관계를 가지는 현상.",
            "한 독립변수가 종속변수에 미치는 영향(기울기)가 다른 독립변수의 값에 따라 달라지는 현상.",
            "독립변수와 종속변수 간의 관계가 직선이 아닌 곡선 형태를 보이는 현상.",
            "모형에 포함된 독립변수의 개수가 너무 많아 과적합이 발생하는 현상."
        ],
        "hint": "상호 작용은 두 독립변수의 곱 형태로 모형에 포함됩니다.",
        "solution": "한 독립변수가 종속변수에 미치는 영향(기울기)가 다른 독립변수의 값에 따라 달라지는 현상.",
    },
    {
        "item_type": "radio",
        "question": "statsmodels의 관계식(formula)에서 y ~ x * m 과 같이 별표(*)를 사용하여 모형을 설정했을 때, 실제 모형에 포함되는 항들로 올바르게 짝지어진 것은 무엇인가요? (단, x는 연속형, m은 범주형 변수)",
        "options": [
            "x의 주효과 항과 m의 주효과 항만 포함된다. (x + m)",
            "x와 m의 상호작용 항만 포함된다. (x:m)",
            "x의 주효과 항, m의 주효과 항, 그리고 x와 m의 상호작용 항이 모두 포함된다. (x + m + x:m)",
            "x의 제곱 항과 m의 제곱 항이 포함된다. (I(x**2) + I(m**2))"
        ],
        "hint": "별표(*)를 사용하면 주효과와 상호작용항이 모두 포함됩니다.",
        "solution": "x의 주효과 항, m의 주효과 항, 그리고 x와 m의 상호작용 항이 모두 포함된다. (x + m + x:m)"
    },
    {
        "item_type": "radio",
        "question": "독립변수 x(연속형)와 m(범주형, 0 또는 1)을 사용하여 종속변수 y를 예측하는 회귀분석에서, 모형이 y ~ x + m으로 설정되었습니다. 이 경우, m의 값(0 또는 1)에 따른 x와 y의 관계를 그래프로 표현했을 때 어떤 형태가 나타날 가능성이 가장 높나요?",
        "options": [
            "기울기는 다르지만 동일한 y절편을 가지는 두 개의 직선 (원점에서 교차)",
            "기울기는 같지만 서로 다른 y절편을 가지는 두 개의 평행한 직선",
            "기울기와 y절편이 모두 다른 두 개의 직선",
            "하나의 직선과 하나의 곡선"
        ],
        "hint": "m이 0인 경우와 1인 경우 각각의 y절편이 달라집니다.",
        "solution": "기울기는 같지만 서로 다른 y절편을 가지는 두 개의 평행한 직선",
    },
    {
        "item_type": "radio",
        "question": "독립변수 x(연속형)와 m(범주형, 0 또는 1)을 사용하여 종속변수 y를 예측하는 회귀분석에서, m 값에 따라 x가 y에 미치는 영향(기울기)과 x=0일 때의 y 예측치(절편)가 모두 달라지는 관계를 모델링하려면 어떤 관계식(formula)을 사용해야 하나요?",
        "options": [
            "y ~ x",
            "y ~ x + m",
            "y ~ x:m",
            "y ~ x * m"
        ],
        "hint": "y ~ x + m + x:m 형태의 관계식을 사용해야 합니다.",
        "solution": "y ~ x * m"
    }
]
} />

## Q&A
<iframe src="https://tally.so/embed/wbOOKg?alignLeft=1&hideTitle=1&transparentBackground=1&dynamicHeight=0" loading="lazy" width="100%" height="274" frameborder="0" marginheight="0" marginwidth="0" title="Q&A"></iframe>