# 탐색적 데이터 분석

## 탐색적 데이터 분석 Exploratory Data Analysis
* 특별한 가설 없이 데이터의 주요 특성을 시각적 및 통계적으로 조사하는 과정
    * 가설을 검증하려는 경우는 확인적(Confirmatory) 데이터 분석
* 데이터의 기본적인 특성과 구조를 이해하여 적절한 모형과 방법을 선택
    * 예: 데이터가 비선형 관계를 가지는 경우
* 이상치나 결측치 등을 조기에 발견하여 이를 수정하거나 처리
* 데이터를 탐색하면서 새로운 가설을 생성

## 변수의 종류
* 범주형 변수(categorical variable): 종류, 이름 등에 해당
    * 숫자로 표시하더라도 양적인 개념이 아님
    * 덧셈 등 대부분의 연산이 의미가 없음
    * 순서가 있을 수도 있으나, 간격이 일정하지 않음
    * 예: 주거 형태, 고향, 학력, 출석
* 연속형 변수(continuous variable): 연속적인 수치
    * 간격이 일정하고 덧셈, 뺄셈 등의 계산이 의미가 있음
    * 예: 무게, 나이, 시간, 거리, 자녀의 수, 시험 점수

## 기술 통계
* 기술 통계(descriptive statistics): 데이터를 묘사, 설명
    * [참고] 추론 통계(inferential statistics): 데이터를 바탕으로 추론, 예측
* 중심 경향치: 데이터가 어디에 몰려있는가?
    * 평균
    * 중간값
* 분위수: 데이터에서 각각의 순위가 어느 정도인가?
* 변산성 측정치: 데이터가 어떻게 퍼져있는가?
    * 범위, IQR
    * 분산, 표준편차

## 평균
* N개의 값(x₁, x₂, … , xn)이 있을 때, 그 합계(Σ)를 N으로 나눈 것
```python
df.price.mean() # 가격 평균
```
* 평균은 극단값에 따라 영향을 크게 받음
    * 10, 20, 30, 40, 50이 있을 경우 → 30
    * 10, 20, 30, 40, 500이 있을 경우 → 120
* 1986년 미국 노스캐롤라이나 대학 (UNC) 졸업생 평균 초봉 조사
    * 가장 높은 학과는 지리학과 (25만 달러) vs. 당시 미국 대졸 평균 초봉은 2만 2천달러 수준
    * 당시 마이클 조던이 UNC 지리학과를 졸업

## 중간값 median
* 값들을 크기 순으로 정렬했을 때 중간에 위치한 값
    * 10, 20, 30, 40, 50의 중간값 → 30
    * 10, 20, 30, 40, 500의 중간값 → 30
```python
df.price.median() # 가격 중간값
```
* "중위수"라는 표현도 많이 사용 (중위소득, 중위가격 등)
* 값이 짝수개 있을 경우는 가운데 두 값의 평균
    * 10, 20, 30, 40의 중간값 → 20과 30의 평균 → 25

## 평균 vs. 중간값
* 임금근로자 평균소득 > 중위소득
    * 월 500만원 고소득차들이 있어서 평균을 끌어올림
    * 평균으로 보면, 임금근로자의 소득에 대해 과대평가를 할 수 있음
* 중간값도 왜곡된 인식을 줄 수 있음
    * 만약 여러 명의 방문 고객 중에 1명만 구매할 경우, 고객 1인당 중위매출 = 0원 → 평균과 달리 전체 매출을 알 수 없음
* 평균과 중간값이 보여주는 측면이 다르므로 둘 다 보는 것이 바람직

## Python 최소, 최대, 퍼센타일
```python
df.price.min() # 최소
df.price.max() # 최대
df.price.quantile(.25) # 분위수(하위 25% 위치)
```

## 분산 variance
* 데이터의 변산성(퍼져 있는 정도)을 나타내는 방법
* 편차(=값 – 평균)가 전반적으로 얼마나 큰가?
* 편차는 &pm;가 있으므로 제곱해서 부호를 없앤 다음에 평균 $\text{Var}(X)=\frac{1}{N} \sum_{i=1}^N (X_i - \bar{X})^2$
* 왜 절댓값 대신 제곱을 쓰는가?
    * 절댓값도 씀. 그 경우에는 MAD(Mean Absolute Deviation)
    * 분산에는 수학적으로 중요한 여러 성질이 있음
        * 예: 분산은 평균이 기준일 때 가장 작음(MAD는 절댓값이 기준일 때 가장 작음)
* 단, 제곱을 하여 크기가 커지므로, 표준편차(=√분산)를 많이 사용

```python
df.price.var() # 분산
df.price.std() # 표준편차
```

## 기타 기술 통계량
* `df.describe()`: 숫자형 열에 대한 주요 기술 통계량 요약 (개수, 평균, 표준편차, 최소값, 사분위수, 최대값)
* `df.price.sum()`: 합계
* `df.price.count()`: 결측치 제외한 데이터 개수
* 범주형 변수
* `df.model.unique()`: 고유값의 종류
* `df.model.nunique()`: 고유값 개수
* `df.model.value_counts()`: 고유값별 개수

## 퀴즈

import { QuizComponent } from "@/components/QuizComponent";

<QuizComponent quizId="eda" quizItems={
[
    {
        "item_type": "radio",
        "question": "사전에 설정한 특정 가설 없이, 데이터의 기본적인 특성과 구조를 이해하고 이상치나 패턴을 발견하는 분석 방법을 무엇이라고 합니까?",
        "options": [
            "탐색적 데이터 분석 (Exploratory Data Analysis)",
            "확인적 데이터 분석 (Confirmatory Data Analysis)",
            "예측적 데이터 분석 (Predictive Data Analysis)",
            "인과적 데이터 분석 (Causal Data Analysis)"
        ],
        "hint": "교안의 제목이며, 영문 약어로는 EDA라고 합니다.",
        "solution": "탐색적 데이터 분석 (Exploratory Data Analysis)"
    },
    {
        item_type: 'radio',
        question: '다음 중 기술 통계에 대한 설명으로 올바른 것은?',
        options: [
            '데이터를 바탕으로 더 큰 집단(모집단)에 대해 추론, 예측하는 것이다',
            '알려지지 않은 데이터를 예측하는 것이다',
            '주어진 데이터를 묘사, 설명하는 것이다',
            '과거의 추세를 바탕으로 미래를 예측하는 것이다',
        ],
        hint: '기술 통계는 주어진 데이터를 요약하고 설명하는 데 중점을 둡니다.',
        solution: '주어진 데이터를 묘사, 설명하는 것이다',
    },
    {
        "item_type": "radio",
        "question": "'나이', '무게', '시험 점수'와 같이 연속적인 수치로 표현되며 덧셈, 뺄셈 등의 연산이 의미를 갖는 변수는 무엇입니까?",
        "options": [
            "범주형 변수",
            "순서형 변수",
            "연속형 변수",
            "명목형 변수"
        ],
        "hint": "데이터의 간격이 일정하고 연속적인 특징을 가집니다.",
        "solution": "연속형 변수"
    },
    {
        "item_type": "radio",
        "question": "'주거 형태', '고향', '학력', '출석'과 같이 종류나 이름 등에 해당하며 덧셈 등의 연산이 의미가 없는 변수는 무엇입니까?",
        "options": [
            "범주형 변수",
            "순서형 변수",
            "연속형 변수",
            "명목형 변수"
        ],
        "hint": "종류를 나타냅니다",
        "solution": "범주형 변수"
    },
    {
        "item_type": "radio",
        "question": "값들을 크기 순으로 정렬했을 때 정확히 중간에 위치하는 값으로, '중위수'라고도 불리는 통계치는 무엇입니까?",
        "options": [
            "평균",
            "중간값",
            "분산",
            "표준편차"
        ],
        "hint": "10, 20, 30, 40, 500이 있을 때 극단값 500의 영향을 받지 않고 30이 되는 값입니다.",
        "solution": "중간값"
    },
    {
        "item_type": "radio",
        "question": "데이터가 평균으로부터 얼마나 퍼져 있는지를 나타내는 척도로, 분산(variance)에 제곱근을 취한 값은 무엇입니까?",
        "options": [
            "분산",
            "표준편차",
            "중간값",
            "범위"
        ],
        "hint": "pandas에서는 `.std()` 메소드로 계산할 수 있습니다.",
        "solution": "표준편차"
    },
    {
        "item_type": "radio",
        "question": "pandas에서 `df.price.quantile(.25)` 코드가 의미하는 바로 가장 적절한 것은 무엇입니까?",
        "options": [
            "가격의 상위 25%에 해당하는 값",
            "가격의 하위 25%에 해당하는 값",
            "가격이 25인 데이터의 개수",
            "가격의 25%를 샘플링"
        ],
        "hint": "데이터를 순서대로 나열했을 때 특정 백분위수에 위치하는 값을 찾는 함수입니다.",
        "solution": "가격의 하위 25%에 해당하는 값"
    },
    {
        item_type: 'number',
        question: 'hr.xlsx에서 overtime의 평균을 구해보세요 (소수점 아래 2자리까지)',
        tolerance: 0.01,
        hint: "```\nimport pandas as pd\nhr = pd.read_excel('hr.xlsx')\nhr['overtime'].mean()\n```",
        solution: 9.153061224489797,
    },
    {
        item_type: 'number',
        question: 'hr.xlsx에서 overtime의 중간값을 구해보세요',
        hint: "```\nimport pandas as pd\nhr = pd.read_excel('hr.xlsx')\nhr['overtime'].median()\n```",
        tolerance: 1.0,
        solution: 6.0,
    },
    {
        item_type: 'radio',
        question: 'hr.xlsx에서 인원이 가장 많은 부서(department)는 어디입니까?',
        options: [
            'Finance',
            'Engineering',
            'Sales',
        ],
        hint: "`hr['department'].mode()` 또는 `hr['department'].value_counts()`를 사용해보세요.",
        solution: 'Engineering',
    },
    {
        item_type: 'number',
        question: 'hr.xlsx에서 overtime의 표준편차를 구해보세요 (소수점 아래 2자리까지)',
        tolerance: 0.01,
        hint: '```\nimport pandas as pd\nhr = pd.read_excel("hr.xlsx")\nhr["overtime"].std()\n```',
        solution: 9.461057772572984,
    },
]
} />


## Q&A
<iframe src="https://tally.so/embed/wbOOKg?alignLeft=1&hideTitle=1&transparentBackground=1&dynamicHeight=0" loading="lazy" width="100%" height="274" frameborder="0" marginheight="0" marginwidth="0" title="Q&A"></iframe>