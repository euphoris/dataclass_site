# 상호작용


## 상호작용
- 주요 개념:
    - 상호작용항
    - 절편 또는 기울기가 달라지는 경우


## 상호작용 interaction
- 두 독립변수의 곱으로 이뤄진 항(xm)
  `y = x + m + xm`
- 관계식으로 쓸 때는 `:`을 사용
  `y ~ x + m + x:m`
- 관계식에서 `x*m`은 `x+m+x:m`과 같음


## 상호작용의 간단한 예
- 이해를 돕기 위한 간단한 예시
- x는 연속형
- m은 0 또는 1만 갖는 범주형 변수 (설명의 편의를 위한 단순화)


## 상호작용이 없는 경우
`y ~ x + m`
- m에 따라 x의 절편이 바뀌는 것으로 해석


## 상호작용이 없는 경우
```python
import seaborn as sns
d1 = pd.read_excel('diff_intercept.xlsx')
sns.scatterplot(x='x', y='y', hue='m', data=d1)
ols('y ~ x + m', d1).fit().summary()
```


## 기울기가 달라지는 경우
`y ~ x + x:m`
- m에 따라 x의 기울기가 바뀌는 것으로 해석


## 기울기가 달라지는 경우
```python
d2 = pd.read_excel('diff_slope.xlsx')
sns.scatterplot(x='x', y='y', hue='m', data=d2)
ols('y ~ x + x:m', d2).fit().summary()
```


## 기울기와 절편이 모두 달라지는 경우
`y ~ x + m + x:m`
- m에 따라 x의 절편과 기울기가 바뀌는 것으로 해석


## 기울기와 절편이 모두 달라지는 경우
```python
d3 = pd.read_excel('interaction.xlsx')
sns.scatterplot(x='x', y='y', hue='m', data=d3)
ols('y ~ x + m + x:m', d3).fit().summary()
```

## 퀴즈

<iframe src="https://tally.so/embed/w2zP6D?alignLeft=1&hideTitle=1&transparentBackground=1&dynamicHeight=1" loading="lazy" width="100%" height="2559" frameborder="0" marginheight="0" marginwidth="0" title="[통계] 상호작용 + 인과효과"></iframe>